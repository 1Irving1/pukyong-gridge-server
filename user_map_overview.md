# 🗺️ Simulation SERVER Challenge - User Map

## 📋 전체 시스템 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                        전체 시스템 구조                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   프론트엔드  │    │    백엔드    │    │  데이터베이스 │        │
│  │  (사용자 화면) │◄──►│  (Spring Boot) │◄──►│   (MySQL)   │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   Tnovel    │    │   Controller │    │   admin_db  │        │
│  │   Mobile    │    │   Service    │    │   Database  │        │
│  │   App       │    │ Repository   │    │             │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 주요 사용자 플로우

### 1. 회원가입 플로우 (Sign Up Flow)
```
┌─────────────────────────────────────────────────────────────────┐
│                        회원가입 플로우                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   앱 시작    │───►│  회원가입    │───►│ 기본정보 입력 │        │
│  │   화면      │    │   선택      │    │             │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   카카오     │    │   일반      │    │   유효성     │        │
│  │   로그인     │    │   가입      │    │   검사      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   기존 회원  │    │   생일      │    │   약관      │        │
│  │   확인      │    │   선택      │    │   동의      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   추가정보   │    │   가입      │    │   메인      │        │
│  │   입력      │    │   완료      │    │   화면      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2. 로그인 플로우 (Login Flow)
```
┌─────────────────────────────────────────────────────────────────┐
│                         로그인 플로우                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   로그인     │    │   일반      │    │   인증      │        │
│  │   화면      │───►│   로그인     │───►│   확인      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   카카오     │    │   비밀번호   │    │   성공/실패  │        │
│  │   로그인     │    │   찾기      │    │   처리      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   OAuth      │    │   전화번호   │    │   메인      │        │
│  │   인증      │    │   인증      │    │   화면      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   회원       │    │   새        │    │   피드      │        │
│  │   확인      │    │   비밀번호   │    │   목록      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 3. 어드민 관리 플로우 (Admin Management Flow)
```
┌─────────────────────────────────────────────────────────────────┐
│                      어드민 관리 플로우                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   어드민     │    │   회원      │    │   회원      │        │
│  │   로그인     │───►│   목록      │───►│   상세      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   권한       │    │   검색      │    │   상태      │        │
│  │   확인      │    │   필터      │    │   변경      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐        │
│  │   대시보드   │    │   정렬      │    │   로그      │        │
│  │   접근      │    │   (최신순)   │    │   기록      │        │
│  └─────────────┘    └─────────────┘    └─────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 상세 사용자 여정 (User Journey)

### A. 신규 사용자 회원가입 여정
```
1. 앱 다운로드 및 실행
   ↓
2. 회원가입 버튼 클릭
   ↓
3. 기본정보 입력 화면
   ├─ 전화번호 입력 (01090010123)
   ├─ 이름 입력 (행복한강아지)
   ├─ 사용자명 입력 (happypuppy)
   └─ 비밀번호 입력 (dog123)
   ↓
4. 유효성 검사
   ├─ 전화번호 형식 확인
   ├─ 사용자명 중복 확인
   ├─ 비밀번호 복잡도 확인
   └─ 실시간 피드백 (✓/✗)
   ↓
5. 생일 선택 화면
   ├─ 월 선택 (1-12월)
   ├─ 일 선택 (1-31일)
   └─ 년도 선택 (1919-2015년)
   ↓
6. 이용약관 동의 화면
   ├─ 이용약관 (필수)
   ├─ 데이터 정책 (필수)
   └─ 위치 기반 기능 (필수)
   ↓
7. 가입 완료 및 메인 화면 이동
```

### B. 기존 사용자 로그인 여정
```
1. 로그인 화면 접속
   ↓
2. 로그인 방식 선택
   ├─ 일반 로그인
   │  ├─ 사용자명 입력 (happypuppy)
   │  ├─ 비밀번호 입력 (******)
   │  └─ 로그인 버튼 클릭
   │     ↓
   │  ├─ 성공: 메인 화면 이동
   │  ├─ 실패: 오류 메시지 표시
   │  └─ 비밀번호 찾기
   │     ↓
   │  ├─ 전화번호 입력
   │  ├─ 인증 코드 전송
   │  ├─ 새 비밀번호 설정
   │  └─ 로그인 완료
   │
   └─ 카카오 로그인
      ├─ 카카오 인증
      ├─ 기존 회원 확인
      ├─ 신규 회원: 추가정보 입력
      └─ 기존 회원: 메인 화면 이동
```

### C. 어드민 회원 관리 여정
```
1. 어드민 로그인
   ↓
2. 회원관리 메뉴 접속
   ↓
3. 회원 목록 조회
   ├─ 기본: 가입 최신순 정렬
   ├─ 검색 조건 설정
   │  ├─ 사용자 ID 검색
   │  ├─ 사용자 이름 검색
   │  ├─ 회원가입 날짜 검색
   │  └─ 회원 상태 필터
   └─ 조회 결과 표시
   ↓
4. 회원 상세 조회
   ├─ 회원 목록에서 특정 회원 클릭
   ├─ 상세 정보 표시
   │  ├─ 기본 정보
   │  ├─ 가입 정보
   │  ├─ 마지막 로그인 시간
   │  └─ 회원 상태
   └─ 관리 액션
      ├─ 회원 상태 변경 (활성화/정지/탈퇴)
      └─ 변경 이력 로그 기록
```

## 🎨 화면별 상호작용 매트릭스

| 화면 | 주요 액션 | 백엔드 API | 데이터베이스 작업 |
|------|-----------|------------|------------------|
| 회원가입 | 기본정보 입력 | POST /api/signup | users 테이블 INSERT |
| 회원가입 | 유효성 검사 | GET /api/validation | users 테이블 SELECT |
| 회원가입 | 약관 동의 | POST /api/signup/terms | users 테이블 UPDATE |
| 로그인 | 일반 로그인 | POST /api/login | users 테이블 SELECT |
| 로그인 | 카카오 로그인 | POST /api/oauth/kakao | users 테이블 SELECT/INSERT |
| 로그인 | 비밀번호 찾기 | POST /api/password/reset | users 테이블 UPDATE |
| 어드민 | 회원 목록 | GET /api/admin/users | users 테이블 SELECT |
| 어드민 | 회원 상세 | GET /api/admin/users/{id} | users 테이블 SELECT |
| 어드민 | 상태 변경 | PATCH /api/admin/users/{id}/status | users 테이블 UPDATE |

## 🔧 백엔드 개발 포인트

### 1. 데이터 검증 (Validation)
- **프론트엔드**: 실시간 사용자 피드백
- **백엔드**: 서버 사이드 보안 검증

### 2. 상태 관리 (State Management)
- **사용자 상태**: ACTIVE, SUSPENDED, WITHDRAWN
- **가입 상태**: 진행중, 완료, 실패

### 3. 보안 (Security)
- **비밀번호 암호화**: SHA256 해싱
- **JWT 토큰**: 세션 관리
- **OAuth2**: 소셜 로그인

### 4. 로깅 (Logging)
- **사용자 액션**: CRUD 히스토리
- **시스템 로그**: 에러 추적
- **보안 로그**: 인증 시도

이 유저 Map을 바탕으로 다음 단계인 **API 설계**나 **특정 기능 구현**으로 진행할 수 있습니다. 어떤 부분을 더 자세히 살펴보고 싶으신가요? 🚀 