# 👨‍💼 어드민 관리 화면 상세 플로우

## 🎯 1. 어드민 - 회원관리 화면

### 화면 구성
```
┌─────────────────────────────────────────────────────────────────┐
│                    어드민 - 회원관리                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────────┐ │
│  │   회원관리   │  │              회원관리                       │ │
│  │   피드 관리   │  │                                          │ │
│  │   신고 관리   │  │  ┌─────────────────────────────────────┐   │ │
│  │   결제 관리   │  │  │ 이름 검색: [        ]              │   │ │
│  │   로그 관리   │  │  │ 아이디 검색: [      ]              │   │ │
│  │             │  │  │ 회원가입일자: [2022.07.20 ▼]        │   │ │
│  │             │  │  │ 회원상태: [활성화 ▼]                 │   │ │
│  │             │  │  │                    [🔵 조회하기]     │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  ┌─────────────────────────────────────┐   │ │
│  │             │  │  │ 이름    │ 아이디  │ 가입일자         │   │ │
│  │             │  │  ├─────────────────────────────────────┤   │ │
│  │             │  │  │ 알콩이   │ 010     │                │   │ │
│  │             │  │  │ 대성짱   │ 010     │                │   │ │
│  │             │  │  │ 광주사람이예요│ 01011111113 │ 21.11.30 │   │ │
│  │             │  │  │ 클로즈업 │ 01011111112 │ 21.11.30 │   │ │
│  │             │  │  │ 쫑알     │ 010     │ 21.06.14 │   │ │
│  │             │  │  │ 빛줄기   │ 01012345678 │ 21.05.31 │   │ │
│  │             │  │  │ 농사꾼   │ 01012345678 │ 20.12.21 │   │ │
│  │             │  │  │ 농사     │ 01012345678 │ 20.12.21 │   │ │
│  │             │  │  │ crazymyfarm│ 01012345678 │ 20.12.21 │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  [«] [‹] [1] [2] [3] [4] [5] [›] [»]    │ │
│  └─────────────┘  └─────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 상호작용 플로우
```
사용자 액션                    시스템 응답                    백엔드 처리
─────────────────────────────────────────────────────────────────────────

1. 화면 초기 진입
   ├─ 회원 목록 표시          → 가입 최신순으로 정렬된 목록      → DB 조회 (ORDER BY registration_date DESC)
   └─ 검색 조건 초기화        → 모든 필드 빈 값으로 설정         → 기본 상태 설정

2. 검색 조건 입력
   ├─ 이름 검색 입력          → 실시간 입력값 표시              → 입력 처리
   ├─ 아이디 검색 입력        → 실시간 입력값 표시              → 입력 처리
   ├─ 회원가입일자 선택       → 달력 팝업으로 날짜 선택          → 날짜 형식 처리
   └─ 회원상태 드롭다운       → 활성화/정지/탈퇴 옵션 표시      → 정적 데이터

3. "조회하기" 버튼 클릭
   ├─ 검색 조건 적용          → 조건에 맞는 회원 목록 표시      → DB 쿼리 실행
   ├─ 조건 없음              → 전체 회원 목록 표시 (최신순)     → 전체 조회
   └─ 조건 있음              → 필터링된 회원 목록 표시          → 조건부 조회

4. 회원 목록에서 특정 회원 클릭
   └─ 클릭                    → 해당 회원의 상세 정보 화면 이동  → 회원 ID 기반 조회

5. 페이지네이션 클릭
   ├─ 페이지 번호 클릭        → 해당 페이지의 회원 목록 표시    → 페이지별 데이터 조회
   ├─ "‹" 클릭               → 이전 페이지로 이동              → 페이지 계산
   └─ "›" 클릭               → 다음 페이지로 이동              → 페이지 계산
```

## 🎯 2. 어드민 - 회원 상세 조회 화면

### 화면 구성
```
┌─────────────────────────────────────────────────────────────────┐
│                    어드민 - 회원 상세 조회                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────────┐ │
│  │   회원관리   │  │              회원 상세 정보                  │ │
│  │   피드 관리   │  │                                          │ │
│  │   신고 관리   │  │  ┌─────────────────────────────────────┐   │ │
│  │   결제 관리   │  │  │ 회원 ID: 123                        │   │ │
│  │   로그 관리   │  │  │ 사용자명: happypuppy                │   │ │
│  │             │  │  │ 이름: 행복한강아지                     │   │ │
│  │             │  │  │ 이메일: happy@example.com             │   │ │
│  │             │  │  │ 회원상태: 활성화                       │   │ │
│  │             │  │  │ 가입일: 2024-01-15                    │   │ │
│  │             │  │  │ 마지막 로그인: 2024-01-20 14:30:25    │   │ │
│  │             │  │  │ OAuth 사용자: 아니오                   │   │ │
│  │             │  │  │ 생성일: 2024-01-15 10:00:00           │   │ │
│  │             │  │  │ 수정일: 2024-01-20 14:30:25           │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  ┌─────────────────────────────────────┐   │ │
│  │             │  │  │ [🔵 회원 정지] [🔴 회원 탈퇴]       │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  ┌─────────────────────────────────────┐   │ │
│  │             │  │  │ [⬅️ 목록으로 돌아가기]               │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  └─────────────┘  └─────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 상호작용 플로우
```
사용자 액션                    시스템 응답                    백엔드 처리
─────────────────────────────────────────────────────────────────────────

1. 회원 상세 정보 조회
   ├─ 회원 ID 기반 조회        → 해당 회원의 모든 정보 표시      → DB SELECT (users 테이블)
   ├─ 모든 필드 표시          → 데이터베이스에 저장된 모든 값    → 전체 컬럼 조회
   └─ 마지막 로그인 시간 포함  → last_login_time 필드 표시       → 로그인 시간 기록

2. "회원 정지" 버튼 클릭
   ├─ 확인 다이얼로그 표시     → "정말로 이 회원을 정지하시겠습니까?" → 사용자 확인
   ├─ 확인 클릭              → 회원 상태를 SUSPENDED로 변경    → DB UPDATE (status 필드)
   ├─ 로그 기록              → 상태 변경 이력을 activity_logs에 기록 → 로그 테이블 INSERT
   └─ 성공 메시지 표시        → "회원이 정지되었습니다."         → 결과 피드백

3. "회원 탈퇴" 버튼 클릭
   ├─ 확인 다이얼로그 표시     → "정말로 이 회원을 탈퇴 처리하시겠습니까?" → 사용자 확인
   ├─ 확인 클릭              → 회원 상태를 WITHDRAWN으로 변경  → DB UPDATE (status 필드)
   ├─ 로그 기록              → 상태 변경 이력을 activity_logs에 기록 → 로그 테이블 INSERT
   └─ 성공 메시지 표시        → "회원이 탈퇴 처리되었습니다."     → 결과 피드백

4. "목록으로 돌아가기" 클릭
   └─ 클릭                    → 회원 목록 화면으로 이동          → 화면 전환
```

## 🎯 3. 어드민 - 피드 관리 화면

### 화면 구성
```
┌─────────────────────────────────────────────────────────────────┐
│                    어드민 - 피드 관리                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────────┐ │
│  │   회원관리   │  │              피드 관리                       │ │
│  │   피드 관리   │  │                                          │ │
│  │   신고 관리   │  │  ┌─────────────────────────────────────┐   │ │
│  │   결제 관리   │  │  │ 작성자 아이디: [        ]          │   │ │
│  │   로그 관리   │  │  │ 피드 작성일자: [2022.07.20 ▼]      │   │ │
│  │             │  │  │ 피드상태: [활성화 ▼]                 │   │ │
│  │             │  │  │                    [🔵 조회하기]     │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  ┌─────────────────────────────────────┐   │ │
│  │             │  │  │ 작성자  │ 피드내용  │ 작성일자        │   │ │
│  │             │  │  ├─────────────────────────────────────┤   │ │
│  │             │  │  │ happypuppy │ 여름의 토... │ 2024-01-20 │   │ │
│  │             │  │  │ testuser1  │ 안녕하세요... │ 2024-01-19 │   │ │
│  │             │  │  │ testuser2  │ 오늘 날씨... │ 2024-01-18 │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  [«] [‹] [1] [2] [3] [4] [5] [›] [»]    │ │
│  └─────────────┘  └─────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 상호작용 플로우
```
사용자 액션                    시스템 응답                    백엔드 처리
─────────────────────────────────────────────────────────────────────────

1. 화면 초기 진입
   ├─ 피드 목록 표시          → 작성 최신순으로 정렬된 목록      → DB 조회 (ORDER BY created_at DESC)
   └─ 검색 조건 초기화        → 모든 필드 빈 값으로 설정         → 기본 상태 설정

2. 검색 조건 입력
   ├─ 작성자 아이디 입력      → 실시간 입력값 표시              → 입력 처리
   ├─ 피드 작성일자 선택      → 달력 팝업으로 날짜 선택          → 날짜 형식 처리
   └─ 피드상태 드롭다운       → 활성화/삭제됨 옵션 표시         → 정적 데이터

3. "조회하기" 버튼 클릭
   ├─ 검색 조건 적용          → 조건에 맞는 피드 목록 표시      → DB 쿼리 실행
   ├─ 조건 없음              → 전체 피드 목록 표시 (최신순)     → 전체 조회
   └─ 조건 있음              → 필터링된 피드 목록 표시          → 조건부 조회

4. 피드 목록에서 특정 피드 클릭
   └─ 클릭                    → 해당 피드의 상세 정보 화면 이동  → 피드 ID 기반 조회

5. 피드 상세 화면에서 "피드 삭제" 버튼 클릭
   ├─ 확인 다이얼로그 표시     → "정말로 이 피드를 삭제하시겠습니까?" → 사용자 확인
   ├─ 확인 클릭              → 피드와 관련 댓글 모두 삭제      → DB DELETE (feeds, comments 테이블)
   ├─ 로그 기록              → 삭제 이력을 activity_logs에 기록 → 로그 테이블 INSERT
   └─ 성공 메시지 표시        → "피드가 삭제되었습니다."         → 결과 피드백
```

## 🎯 4. 어드민 - 신고 관리 화면

### 화면 구성
```
┌─────────────────────────────────────────────────────────────────┐
│                    어드민 - 신고 관리                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────────┐ │
│  │   회원관리   │  │              신고 관리                       │ │
│  │   피드 관리   │  │                                          │ │
│  │   신고 관리   │  │  ┌─────────────────────────────────────┐   │ │
│  │   결제 관리   │  │  │ 신고자  │ 신고대상  │ 신고사유  │ 처리상태 │   │ │
│  │   로그 관리   │  │  ├─────────────────────────────────────┤   │ │
│  │             │  │  │ user1   │ 피드#123  │ 스팸     │ 대기중   │   │ │
│  │             │  │  │ user2   │ 댓글#456  │ 욕설     │ 처리완료 │   │ │
│  │             │  │  │ user3   │ 피드#789  │ 부적절   │ 대기중   │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  [«] [‹] [1] [2] [3] [4] [5] [›] [»]    │ │
│  └─────────────┘  └─────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 상호작용 플로우
```
사용자 액션                    시스템 응답                    백엔드 처리
─────────────────────────────────────────────────────────────────────────

1. 화면 초기 진입
   ├─ 신고 목록 표시          → 신고 최신순으로 정렬된 목록      → DB 조회 (ORDER BY reported_at DESC)
   └─ 모든 신고 내역 표시     → 처리상태와 관계없이 전체 표시    → 전체 조회

2. 신고 목록에서 특정 신고 클릭
   ├─ 신고된 콘텐츠 조회      → 해당 피드/댓글 내용 표시        → DB SELECT (feeds/comments 테이블)
   ├─ 신고 사유 확인          → 신고자가 입력한 사유 표시        → 신고 상세 정보 조회
   └─ 신고자 정보 확인        → 신고자 기본 정보 표시            → 사용자 정보 조회

3. 신고 처리 액션
   ├─ "신고 삭제" 버튼 클릭   → 신고 내역만 삭제                → DB DELETE (reports 테이블)
   ├─ "콘텐츠 삭제" 버튼 클릭 → 신고된 피드/댓글 삭제           → DB DELETE (feeds/comments 테이블)
   ├─ 로그 기록              → 처리 이력을 activity_logs에 기록 → 로그 테이블 INSERT
   └─ 처리상태 업데이트       → "처리완료"로 상태 변경           → DB UPDATE (status 필드)
```

## 🎯 5. 어드민 - 로그 관리 화면

### 화면 구성
```
┌─────────────────────────────────────────────────────────────────┐
│                    어드민 - 로그 관리                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────────────────────────────────────┐ │
│  │   회원관리   │  │              로그 관리                       │ │
│  │   피드 관리   │  │                                          │ │
│  │   신고 관리   │  │  ┌─────────────────────────────────────┐   │ │
│  │   로그 관리   │  │  │ 회원 상태 수정 히스토리 조회          │   │ │
│  │             │  │  │ 피드 CRUD 히스토리 조회                │   │ │
│  │             │  │  │ 신고 CRUD 히스토리 조회                │   │ │
│  │             │  │  │ 댓글 CRUD 히스토리 조회                │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  ┌─────────────────────────────────────┐   │ │
│  │             │  │  │ 번호  │ 닉네임    │ 날짜              │   │ │
│  │             │  │  ├─────────────────────────────────────┤   │ │
│  │             │  │  │ 17    │ 0313메리9 │ 2021-04-28 18:33:26 │   │ │
│  │             │  │  │ 16    │ 0313메리9 │ 2021-04-27 14:38:20 │   │ │
│  │             │  │  │ 14    │ 0313메리9 │ 2021-03-18 16:06:23 │   │ │
│  │             │  │  │ 13    │ 0313메리9 │ 2021-03-17 15:45:12 │   │ │
│  │             │  │  │ 12    │ 0313메리9 │ 2021-03-16 12:20:45 │   │ │
│  │             │  │  └─────────────────────────────────────┘   │ │
│  │             │  │                                          │ │
│  │             │  │  [«] [‹] [1] [2] [3] [4] [5] [›] [»]    │ │
│  └─────────────┘  └─────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 상호작용 플로우
```
사용자 액션                    시스템 응답                    백엔드 처리
─────────────────────────────────────────────────────────────────────────

1. 로그 유형 선택
   ├─ "회원 상태 수정 히스토리" → 회원 관련 CRUD 로그 표시       → DB 조회 (activity_logs 테이블)
   ├─ "피드 CRUD 히스토리"     → 피드 관련 CRUD 로그 표시       → DB 조회 (activity_logs 테이블)
   ├─ "신고 CRUD 히스토리"     → 신고 관련 CRUD 로그 표시       → DB 조회 (activity_logs 테이블)
   └─ "댓글 CRUD 히스토리"     → 댓글 관련 CRUD 로그 표시       → DB 조회 (activity_logs 테이블)

2. 로그 조회 조건 설정
   ├─ 날짜 범위 설정          → 시작날짜/종료날짜 선택          → 날짜 필터링
   ├─ 로그 타입 설정          → 대/중/소 카테고리 선택          → 로그 레벨 필터링
   └─ 사용자 필터링          → 특정 사용자의 로그만 조회        → 사용자별 필터링

3. 로그 목록 표시
   ├─ 페이징 처리            → 페이지별 로그 목록 표시          → 페이지네이션
   ├─ 시간순 정렬            → 최신 로그부터 표시               → ORDER BY timestamp DESC
   └─ 로그 상세 정보 표시     → 각 로그의 상세 내용 표시          → 로그 메시지 파싱

4. 로그 상세 조회
   ├─ 특정 로그 클릭         → 해당 로그의 상세 정보 표시        → 로그 상세 조회
   ├─ 관련 데이터 조회       → 로그와 관련된 실제 데이터 표시    → 연관 데이터 조회
   └─ 로그 내보내기          → 로그 데이터를 파일로 다운로드     → CSV/Excel 내보내기
```

## 🔧 어드민 시스템 백엔드 개발 포인트

### 1. 권한 관리 (Authorization)
- **어드민 권한 확인**: 모든 어드민 API에서 권한 검증
- **세션 관리**: 어드민 로그인 세션 유지
- **접근 제어**: 각 기능별 권한 레벨 설정

### 2. 데이터 검증 (Data Validation)
- **입력값 검증**: 검색 조건, 필터링 옵션 검증
- **날짜 형식 검증**: YYYYMMDD 형식 처리
- **페이지네이션 검증**: 페이지 번호, 페이지 크기 검증

### 3. 로깅 시스템 (Logging System)
- **CRUD 히스토리**: 모든 데이터 변경 이력 기록
- **사용자 액션 로그**: 어드민의 모든 액션 기록
- **시스템 로그**: 에러 및 시스템 이벤트 기록

### 4. 성능 최적화 (Performance Optimization)
- **인덱싱**: 자주 조회되는 컬럼에 인덱스 설정
- **페이징**: 대용량 데이터 처리 위한 페이징
- **캐싱**: 자주 조회되는 데이터 캐싱

### 5. 보안 (Security)
- **SQL 인젝션 방지**: PreparedStatement 사용
- **XSS 방지**: 입력값 검증 및 이스케이프 처리
- **CSRF 방지**: 토큰 기반 요청 검증

이러한 어드민 관리 플로우를 바탕으로 백엔드 API 설계와 구현을 진행할 수 있습니다. 어떤 부분을 더 자세히 살펴보고 싶으신가요? 🚀 